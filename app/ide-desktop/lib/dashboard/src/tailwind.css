@import url("https://fonts.googleapis.com/css2?family=M+PLUS+1:wght@400;500;600;700&display=swap");
@import "react-toastify/dist/ReactToastify.css";

:root {
  --row-height: 2rem;
  /* The height of a profile picture when displayed in a row.
   * This should be slightly less than `--row-height`. */
  --profile-picture-size: 1.75rem;
  --profile-picture-padding: 0.1875rem;
  /* The height of text not beside an icon. */
  --text-height: 1.5rem;
  --disabled-opacity: 50%;
  --placeholder-opacity: 75%;
  --disabled-icon-opacity: 75%;
  /* The default gap between a subheading and its content. */
  --subheading-gap: 1rem;
  /* The horizontal padding of the entire horizontal list of icons. */
  --icons-padding-x: 0.5rem;
  --icon-size: 1rem;
  --project-icon-size: 1.5rem;
  /* The gap between each icon in a horizontal list of icons. */
  --icons-gap: 0.75rem;
  /* The gap between each item in the horizontal user bar. */
  --user-bar-gap: 0.5rem;
  /* The gap between an icon and its associated text. */
  --icon-with-text-gap: 0.375rem;
  /* The gap between an icon and its associated text in a selector option. */
  --selector-icon-with-text-gap: 0.5rem;
  --pages-gap: 1rem;
  --drive-gap: 0.75rem;
  /* The gap between the icon and label of a menu entry or context menu entry. */
  --menu-entry-gap: 0.75rem;
  /* The vertical gap between items on a page displaying an abnormal status.
   * These include the loading screen and pages for accessing the drive or chat
   * without the appropriate permissions. */
  --status-page-gap: 1rem;
  /* The tighter of the custom line heights. */
  --snug-line-height: 144.5%;
  /* The looser of the custom line heights. */
  --cozy-line-height: 170%;
  --default-backdrop-blur: 64px;
  --default-corner-radius: 1rem;
  --profile-picture-large-size: 8rem;
  --profile-picture-caption-width: 16rem;
  --button-padding-x: 0.5rem;
  --selector-padding-x: 0.625rem;
  --selector-padding-y: 0.25rem;
  --backend-switcher-option-width: 5rem;
  /* The margin surrounding the entire top bar. */
  --top-bar-margin: 0.5625rem;
  /* The gap between each panel in the top bar.*/
  --top-bar-gap: 0.875rem;
  /* The gap between the two panels on the right side of the top bar.*/
  --top-bar-right-gap: 0.5rem;
  /* The vertical gap between the spiner of a new empty project and its text. */
  --new-empty-project-gap: 0.75rem;
  --new-empty-project-opacity: 60%;
  --new-empty-project-spinner-padding: 0.5rem;
  --spinner-fast-transition-duration: 1s;
  --spinner-medium-transition-duration: 5s;
  --spinner-slow-transition-duration: 90s;
  --modifiers-gap: 0.1875rem;
  --macos-modifiers-gap: 0.125rem;

  --side-panel-transition-duration: 500ms;
  --side-panel-width: 30rem;
  /* The gap between sections in the side panel. */
  --side-panel-gap: 0.25rem;
  --side-panel-heading-height: 1.75rem;
  /* The vertical gap between a heading and its content in the side panel. */
  --side-panel-section-gap: 0.5rem;

  --extended-editor-menu-size: 2.5rem;

  --context-menu-entry-padding-x: 0.75rem;
  --menu-entry-padding: 0.25rem;

  --frame-color: rgb(255 255 255 / 40%);
  --selected-frame-color: rgb(255 255 255 / 70%);
  --selection-brush-color: rgb(171 171 171 / 50%);

  --radio-button-size: 1rem;
  --radio-button-dot-size: 0.5rem;
  --radio-button-dot-padding: calc(
    var(--radio-button-size) / 2 - var(--radio-button-dot-size) / 2
  );

  /********\
  * Modals *
  \********/
  --manage-labels-modal-width: 15rem;

  /****************\
  * Settings pages *
  \****************/

  /* The horizontal gap between the settings sidebar and main content. */
  --settings-gap: 2rem;
  /* The vertical gap between the settings heading and everything else. */
  --settings-header-gap: 2rem;
  /* The horizontal gap between horizontally stacked settings sections. */
  --settings-section-gap: 2rem;
  /* The vertical gap between vertically stacked settings subsections. */
  --settings-subsection-gap: var(--settings-section-gap);
  /* The gap between the header and contents of a section in a settings page. */
  --settings-section-header-gap: 0.625rem;
  /* The gap between the label and value of a settings entry. */
  --settings-entry-gap: 1.1875rem;
  /* The width of the main section of the settings page, if there are multiple sections stacked
   * horizontally. */
  --settings-main-section-width: 32rem;
  --user-account-settings-label-width: 3rem;
  --change-password-settings-label-width: 9rem;
  --organization-settings-label-width: 10rem;

  /*********************\
  * Authentication flow *
  \*********************/

  /* The vertical gap between elements in an auth form. */
  --auth-gap: 1.5rem;
  /* The padding around the entire auth form. */
  --auth-padding: 2rem;
  /* The corner radius of the entire auth form. */
  --auth-corner-radius: 2rem;
  /* The font size of the top-level heading (the page title) of an auth page. */
  --auth-heading-font-size: 19px;
  /* The transition duration for all transitions in the auth flow.
   * Currently the only transitions are of the bagkround color of buttons
   * and inputs when they are hovered over or focused. */
  --auth-transition-duration: 300ms;
  /* The gap between the icon and text of an auth link. */
  --auth-link-gap: 0.5rem;

  /* The top and bottom padding for the entire sidebar. */
  --sidebar-padding: 0.25rem;
  /* The gap between the individual panels in the sidebar. */
  --sidebar-gap: 1rem;

  /***********\
  * Home page *
  \***********/

  /* The gap between each section in the home page. */
  --home-gap: 3rem;
  /* The gap between items in the banner. Usually these are the title and the subtitle. */
  --banner-gap: 0.5rem;
  --banner-padding-x: 2.4375rem;
  --banner-padding-y: 0.5625rem;
  /* The vertical padding for each banner item (the title and the subtitle). */
  --banner-item-padding: 0.125rem;
  /* The horizontal and vertical gap between adjacent news item tiles. */
  --news-items-gap: 0.75rem;
  --news-items-column-width: 18.75rem;
  --news-item-height: 11.25rem;
  /* The horizontal and vertical gap between adjacent sample tiles. */
  --samples-gap: 0.75rem;
  --samples-column-width: 15rem;
  /* The vertical gap between a sample's tile and its info. */
  --sample-gap: 0.375rem;
  /* The height of the tile containing the sample's image and description.
   * Does not include the height of its info bar. */
  --sample-height: 11.25rem;
  /* The height of the sample's info bar. */
  --sample-info-height: 1.125rem;
}

body {
  overflow: hidden;
  height: 100vh;
  margin: 0;
  background: url("enso-assets/background.jpg") 0 0;
  background-size: cover;
  background-blend-mode: lighten;
}

body::before {
  content: "";
  position: fixed;
  width: 100vw;
  height: 100vh;
  background: linear-gradient(rgba(255 255 255 / 80%), rgba(255 255 255 / 80%));
}

.Toastify--animate {
  animation-duration: 200ms;
}

.enso-dashboard {
  position: absolute;
  pointer-events: none;
  width: 100%;
  height: 100%;
  overflow: hidden;
}

.enso-dashboard > * {
  pointer-events: auto;
}

/* These styles MUST still be copied
 * as `.enso-dashboard body` and `.enso-dashboard html` make no sense. */
.enso-dashboard,
.enso-chat {
  line-height: 1.5;
  -webkit-text-size-adjust: 100%;
  -moz-tab-size: 4;
  tab-size: 4;
  font-family: "M PLUS 1";
  font-weight: 500;
  font-feature-settings: normal;
}

.enso-dashboard *:focus,
.enso-chat *:focus {
  outline: none;
}

/* Must be kept in sync with app/gui/view/graph-editor/src/builtin/visualization/java_script/helpers/scrollable.js. */

::-webkit-scrollbar {
  -webkit-appearance: none;
}

::-webkit-scrollbar-track {
  -webkit-box-shadow: none;
}

::-webkit-scrollbar:vertical {
  width: 11px;
}

::-webkit-scrollbar:horizontal {
  height: 11px;
}

::-webkit-scrollbar-thumb {
  border-radius: 8px;
  background-color: rgba(0, 0, 0, 0.1);
}

::-webkit-scrollbar-corner {
  background: rgba(0, 0, 0, 0);
}

.enso-dashboard,
.enso-chat {
  @layer components {
    .transparent {
      @apply opacity-0;
    }

    .button {
      @apply inline-block rounded-full px-4 py-1 disabled:opacity-disabled;
    }

    .button\/30 {
      @apply inline-block rounded-full px-4 py-1 disabled:opacity-30;
    }

    .text {
      @apply leading-cozy h-text py-px;
    }

    .text-subheading {
      @apply text-xl leading-snug py-0.5;
    }

    .settings-value {
      @apply leading-cozy h-text py-px px-2;
    }

    .clip-path-top {
      clip-path: polygon(0 0, 100% 0, 100% calc(50% - 1px), 0 calc(50% - 1px));
    }

    .clip-path-bottom {
      clip-path: polygon(
        0 calc(50% + 1px),
        100% calc(50% + 1px),
        100% 100%,
        0 100%
      );
    }

    .clip-path-bottom-shadow {
      clip-path: polygon(
        0 0,
        100% 0,
        100% calc(100% + 100vh),
        0 calc(100% + 100vh)
      );
    }

    .dasharray-5 {
      /* FF does not support `calc()` in `stroke-dasharray`. */
      stroke-dasharray: 3.76992 75.3984;
      stroke-dasharray: calc(12 * 0.05 * 6.2832) calc(12 * 6.2832);
    }

    .dasharray-75 {
      /* FF does not support `calc()` in `stroke-dasharray`. */
      stroke-dasharray: 56.5488 75.3984;
      stroke-dasharray: calc(12 * 0.75 * 6.2832) calc(12 * 6.2832);
      transition-duration: 90s;
    }

    .dasharray-100 {
      /* FF does not support `calc()` in `stroke-dasharray`. */
      stroke-dasharray: 75.3984 0;
      stroke-dasharray: calc(12 * 6.2832) 0;
    }

    .scroll-hidden {
      -ms-overflow-style: none; /* Internet Explorer 10+ */
      scrollbar-width: none; /* Firefox */
    }

    .scroll-hidden::-webkit-scrollbar {
      display: none; /* Safari and Chrome */
    }

    :where(
        .rounded-rows
          > tbody
          > tr:nth-child(odd)
          > td:not(.rounded-rows-skip-level),
        .rounded-rows
          > tbody
          > tr:nth-child(odd)
          > td.rounded-rows-skip-level
          > *
      ) {
      background-color: rgba(0, 0, 0, 0.03);
    }

    :where(
        .rounded-rows > tbody > tr.selected > td:not(.rounded-rows-skip-level),
        .rounded-rows > tbody > tr.selected > td.rounded-rows-skip-level > *
      ) {
      background-color: rgba(255, 255, 255, 0.4);
    }

    .whatsnew-span-2.whatsnew-span-2 {
      @media screen and (max-width: 40.5625rem) {
        grid-column: span 1 / span 1;
      }
    }

    .container-size {
      container-type: size;
    }
  }

  .pointer-events-none-recursive,
  .pointer-events-none-recursive * {
    pointer-events: none;
  }
}

/* Scoped to `.enso-dashboard .enso-chat` in tailwind config. */
@tailwind base;
@tailwind components;
@tailwind utilities;
